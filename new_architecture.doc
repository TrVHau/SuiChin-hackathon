Architecture
1) Tổng quan kiến trúc
SuiChin dùng mô hình hybrid:
Off-chain (Frontend Game): gameplay + canvas render skin (đồng/bạc/vàng)
On-chain (Sui Move): mint/burn NFT, craft & trade-up theo xác suất, marketplace mua bán bằng SUI testnet, metadata để ví hiển thị NFT
Điểm mấu chốt: blockchain không chạy gameplay, chỉ quản lý tài sản (NFT) + giao dịch.

2) Sơ đồ thành phần
┌──────────────────────────┐
│  Frontend (Web Game)     │
│  - Canvas renderer        │
│  - Craft / Trade-up UI    │
│  - Inventory + Market UI  │
│  - Wallet connect         │
└───────────┬──────────────┘
            │  Sui RPC (read/write tx)
            ▼
┌──────────────────────────┐
│  Sui Blockchain (Move)   │
│  - ChunNFT (skin_type)    │
│  - Scrap resource         │
│  - RNG-based Craft         │
│  - Trade-up (burn + mint) │
│  - Marketplace (list/buy) │
│  - Display/Metadata        │
└──────────────────────────┘
            │
            │  image_url points to
            ▼
┌──────────────────────────┐
│  Static Asset Hosting     │
│  - 4 preview PNG          │
│  (exported from canvas)   │
└──────────────────────────┘

3) Luồng dữ liệu chính
3.1 Craft NFT (rủi ro cao)
FE gọi craft() → gửi transaction lên chain
Contract dùng RNG (theo thiết kế repo hiện tại) để quyết định:
Fail → mint Scrap
Success → mint ChunNFT với skin_type (Bronze/Silver/Gold)
FE đọc kết quả mint (object changes) → cập nhật inventory UI

3.2 Trade-up (CS:GO style, có fail)
FE cho user chọn số lượng NFT cần trade-up (vd 8 Bronze)
FE gọi trade_up() kèm list object ids
Contract:
verify tier đúng + đủ số lượng
roll xác suất (vd 70% hoặc 50–60%)
Success: burn input + mint output tier cao
Fail: burn input + mint Scrap
FE refresh inventory

3.3 Marketplace (SUI testnet)
Seller chọn NFT → list(nft_id, price_in_sui)
Buyer gọi buy(listing_id, Coin<SUI>)
Contract:
chuyển NFT cho buyer
chuyển SUI cho seller (trừ fee nếu có)
FE hiển thị ownership thay đổi + ví nhận/chi SUI

4) Thành phần On-chain (Move)
4.1 ChunNFT
Object transferable
Fields tối thiểu:
skin_type: u8 (0 default, 1 bronze, 2 silver, 3 gold)
name: String (để ví hiển thị đẹp)
image_url: String (trỏ tới preview PNG)
(optional) created_at, serial


4.3 Craft module
Entry functions:
craft_chun()
Logic:
roll xác suất 80/12/6/2
mint ChunNFT 

4.4 Trade-up module
Entry functions:
trade_up_bronze_to_silver(nfts: vector<ChunNFT>)
trade_up_silver_to_gold(nfts: vector<ChunNFT>)
Logic:
verify skin_type của từng input
burn inputs
roll success rate
mint output hoặc scrap

4.5 Marketplace module
Shared object Market
Listing struct:
seller
nft_id
price_in_sui
Entry functions:
list(market, nft, price)
buy(market, listing_id, payment Coin<SUI>)
cancel(market, listing_id)
Events:
Listed, Sold, Cancelled (để debug + demo)

4.6 Display / Metadata
NFT có name + image_url để:
ví hiển thị trong tab Collectible
marketplace UI render đẹp
image_url trỏ tới 4 preview PNG (export từ canvas)

5) Thành phần Off-chain (Frontend)
5.1 Game Renderer (Canvas)
Render chun base
Apply effect theo skin_type:
Bronze: tint + glow nhẹ
Silver: glow + pulse
Gold: aura mạnh
Có “export preview” để tạo PNG đồng bộ với in-game

5.2 Web3 layer
Wallet connect
Tx builders cho:
craft
trade-up
list/buy/cancel
Query owned objects để hiển thị inventory

5.3 UI pages
Inventory: stack theo skin_type, xem chi tiết NFT
Craft: button craft + hiển thị tỷ lệ
Trade-up: chọn batch, confirm
Marketplace: browse listings, buy/sell

6) Những thứ cố tình không có trong architecture
Backend server/indexer (không cần cho demo)
PvP/matchmaking
Daily/leaderboard/reputation
Token riêng (chỉ dùng SUI testnet)

7) Artifact IDs cần cấu hình (deployment)
Frontend cần các biến cấu hình sau:
PACKAGE_ID
MARKET_OBJECT_ID
(nếu có) ADMIN_CAP / TREASURY_CAP (chỉ dùng khi deploy/maintain)
PREVIEW_IMAGE_BASE_URL (nơi host preview PNG)